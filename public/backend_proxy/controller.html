<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Language Controller</title>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    <h1>Remote Language Control</h1>

    <label for="lang">Language:</label>
    <select id="lang">
      <option value="en">English</option>
      <option value="tl">Tagalog</option>
      <option value="ceb">Cebuano</option>
    </select>
    <button id="applyBtn">Apply</button>
    
    <script src="/socket.io/socket.io.js"></script>
<script>
  const deviceId = "vision-device-1";
  const socket = io({ transports: ["websocket"] });

  socket.on("connect", () => {
    console.log("[controller] connected:", socket.id);
  });

  document.getElementById("applyBtn").addEventListener("click", () => {
    const lang = document.getElementById("lang").value;
    socket.emit("sendCommand", {
      deviceId,
      command: {
        type: "SET_LANGUAGE",
        payload: { lang },
      },
    });
    console.log("[controller] sent", lang);
  });
</script>

  </body>
</html>
